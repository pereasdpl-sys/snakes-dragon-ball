<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snake Dragon Ball</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    height: 100%;
    background: url('https://i.imgur.com/NoLQ6xv.jpeg') center/cover no-repeat; /* ðŸŒ„ Fondo tipo Dragon Ball */
  }
  canvas {
    display: block;
    margin: auto;
    background: rgba(255, 255, 255, 0.1);
  }
  .overlay {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: 'Arial Black', sans-serif;
    color: gold;
    font-size: 3em;
    background: rgba(0,0,0,0.8);
    z-index: 10000;
    flex-direction: column;
    opacity: 0;
    transition: opacity 0.5s ease;
  }
  .overlay.show { opacity: 1; }
  .shenlong-img {
    width: 70vw;
    max-width: 800px;
    opacity: 0.85;
    animation: appear 2s ease-in-out;
  }
  @keyframes appear {
    0% { transform: scale(0.6); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
  }
  .particle {
    position: absolute;
    width: 4px; height: 4px;
    background: gold;
    border-radius: 50%;
    opacity: 0.8;
  }
</style>
</head>
<body>

<canvas id="gameCanvas" width="800" height="600"></canvas>

<script>
let level = 1;
let ballsCollected = 0;

const teleportSound = new Audio("https://actions.google.com/sounds/v1/cartoon/cartoon_boing.ogg");

function showOverlay(text, duration = 2000) {
  const overlay = document.createElement('div');
  overlay.className = 'overlay show';
  overlay.innerHTML = `<p>${text}</p>`;
  document.body.appendChild(overlay);
  setTimeout(() => {
    overlay.classList.remove('show');
    setTimeout(() => document.body.removeChild(overlay), 1000);
  }, duration);
}

// âš¡ TransiciÃ³n Ã‰PICA con Shenlong
function playShenlongTransition() {
  const overlay = document.createElement('div');
  overlay.className = 'overlay show';
  overlay.style.background = 'radial-gradient(circle, rgba(255,215,0,0.2), rgba(0,0,0,0.95))';
  overlay.innerHTML = `
    <img src="https://i.imgur.com/1gYjL1f.png" class="shenlong-img" alt="Shenlong">
    <p>Â¡Has invocado a Shenlong!</p>
  `;
  document.body.appendChild(overlay);

  // PartÃ­culas doradas âœ¨
  for (let i = 0; i < 80; i++) {
    const p = document.createElement('div');
    p.className = 'particle';
    p.style.left = Math.random() * 100 + 'vw';
    p.style.top = '100vh';
    p.style.animation = `rise${i} 3s linear ${Math.random()}s forwards`;
    document.body.appendChild(p);

    const style = document.createElement('style');
    style.textContent = `
      @keyframes rise${i} {
        to {
          transform: translateY(-110vh) scale(0.5);
          opacity: 0;
        }
      }
    `;
    document.head.appendChild(style);
  }

  teleportSound.currentTime = 0;
  teleportSound.play();

  setTimeout(() => {
    overlay.classList.remove('show');
    document.querySelectorAll('.particle').forEach(p => p.remove());
    document.body.removeChild(overlay);
    level = 2;
    showOverlay("Â¡Shenlong te ha llevado al siguiente nivel!", 2000);
  }, 3500);
}

// ðŸŽ¯ Ejemplo de lÃ³gica del juego (simulaciÃ³n)
document.addEventListener('keydown', (e) => {
  if (e.key === ' ') { // pulsa espacio para simular recoger bola
    ballsCollected++;
    if (ballsCollected < 7) {
      showOverlay(`Has conseguido la bola nÂº ${ballsCollected}!`, 800);
    } else if (ballsCollected === 7 && level === 1) {
      playShenlongTransition();
    }
  }
});

</script>
</body>
</html>
